** Qt porting for Common Source Code Project **
Aug 10, 2015
K.Ohta

1.About

This package is Qt5 porting of Common Source Code Project (CSP)
and Built with Visual Studio 2015 + DirectX9 + Direct Input 8 for Win32.

 Note: Linux AMD64 and Windows 32bit Binaries are below:
  http://www1.axfc.net/u/3515176
  https://www.sendspace.com/file/xcyxti

 Filename  : CSP_BUILD_20150810.7z
 MD5SUM    : 92e9b56ce7bffcd2e17a3b7c463cdde0
 SHA256SUM : 9bf8c40dfc8e996edbf60ce75866037854ab7e0384d4a711f56e112dbfed8f51

2.Background
Common Source Code Project (CSP) is good emulator writing.
But codes are specified to M$ Visual C.
I'm using GNU/Linux, and I starting to apply FM-7(or later).
So, I start to port to GNU/Linux and using Qt4.

What you need at least:
a. Qt5 (neither Qt3 and Qt4) toolkit.
b. Some OpenGL implementation, maybe at leaset OpenGL v2.x .
c. gcc / g++ (4.7 or later? ) or llvm clang / clang++ (3.5 or later?) toolchain.
d. SDL2 (not SDL1.x).
e. CMake 2.8 or later.

3.How to build:
After extracting (or git pulled) sourcecodes:
$ cd {srctop}/source/build-cmake/{Machine name}/
$ mkdir build
$ cd build

To configure:
$ cmake ..
or
$ ccmake ..

To build:
$ make

To install:
$ sudo make install

4.Qt specified notice:
・Place R@Ms under $HOME/emu{Machine Name}/ , this directory has made
after first using.
・Config file, {foo}.ini is writteon on $HOME/.config/emu{Machine Name}/ .

5.Status
a. I tested to build only under Debian GNU/Linux "sid".
But, perhaps, will succed to build another GNU/Linux OSs or
BSD OS variants.
On windows, using MinGW or Cygwin is not tested yet,
still use M$ Visual Studio 2013 (Community edition).

b. Now, I using Qt5 as toolkit, because authors of Qt announced
"Qt4 is obsolete, will be updated no longer".

c. These machines are already ported to Qt (On Jul 23, 2015):
・Ascii MSX1/MSX2 (not PX-7).
・Casio FP-1100 .
・Casio FP-200 .
・Epson HC-20/40/80.
・Fujitsu FM-7/77/AV .(→ READ readme_fm7.txt)
・Fujitsu FM16pi .
・Fujitsu FM-R50(i286/i386/i486)/R60/R70/R80/R250/R280 (Not tested enough).
・Gijyutu hyouronsya babbage2nd.
・NEC PC-6001/mk2/mk2SR .
・NEC PC-6601/SR .
・NEC PC8001mk2SR (Not tested enough).
・NEC PC8801MA .
・NEC PC-9801/E/U/VF/VM .
・NEC PC98DO .
・NEC PC98LT/HA .
・NEC HE PC-ENGINE.
・NEC TK-80BS .
・NEC HE PC Engine.
・Tomy PYUTA.
・Sega Game Gear/Master System (Mark3).
・Sharp X1/turbo/turboZ/Twin.
・Sharp MZ-700/800/1500 .
・Sharp MZ-80A/K/1200 .
・Sharp MZ-80B/2200/2500 .
・Shinko Sangyou YS-6464a .
・Toshiba J-3100SL .
・Z80 TV Game (Hand made)

c. Now using GCC-5.1 with Link Time Optimize to build for distrubuted binaries.

Upstream repositry:
https://github.com/Artanejp/common_source_project-fm7

Upstream (Takeda Toshiya San's original code)
http://homepage3.nifty.com/takeda-toshiya/

Changes:
 *** If you want to know full changes, please read 000_gitlog.txt . ***

* SNAPSHOT Aug 10, 2015
  * Merged Upstream 2015-08-09.
    To know details : history.txt .
  * DISK/MB8877 : Fix not booting from write protected disk image.
  * DISK/MB8877 : Search sector : Track in ID field  must be equal to track register.
  * MB8877 : Improbe emulation accuracy (Thanks Takeda-San).
  * Win32 : Fix crash when foo.ini exists and using in *real* 
            Windows XP (Thanks Anna Wu).
  * Qt : Fix segfault when exiting.
  * Qt/SDL : Fix lockup with one CPU environment (maybe OK).
  * Qt : Fix abnormal exit when exiting from window-manager.
  
  * Built with GIT mcommit 6b432ad5d5c8d32cf7da5237c233773d95b1ac7a .
-- Aug 10, 2015 15:04:20 +0900 K.Ohta <whatisthis.sowhat@gmail.com>

Upstream changes:
-----
8/9/2015

[VM/MB8877] support MB8866
[VM/MB8877] improve type-2/3 command timing for E flag
[VM/MB8877] fix write protect status (thanks Mr.Artane.)

[MZ80A] change fdc device type from MB8876 to MB8866


8/8/2015

[VM/DISK] remove ugly patch for X1turbo Alpha
[VM/MB8877] remove ugly patch for X1turbo Alpha
[VM/MB8877] improve type-1 command timing
[VM/MB8877] improve type-2/3 command timing for E flag
[VM/MB8877] improve force interrupt command to finish write sector command
[VM/Z80SIO] improve transmitting timing for external clock signal

-----


Have fun!
-- Ohta.

